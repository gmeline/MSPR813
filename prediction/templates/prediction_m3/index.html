
{% extends 'base.html' %}
{% block css %}
<link rel="stylesheet" href="../static/css/prediction/prediction/style.css">
{% endblock %}
{% block content %}
<div class="container">
    <h2>PrÃ©diction dâ€™orientation politique</h2>
    <form method="post">
        {% csrf_token %}
        <ul>
            <li>
                <label for="code_departement">Code du dÃ©partement</label>
                <input type="text" name="code_departement" required>
            </li>
            <li>
                <label for="numero_circonscription">NumÃ©ro de la circonscription</label>
                <input type="number" name="numero_circonscription" required>
            </li>
            <li>
                <label for="insecurite">InsÃ©curitÃ© (taux pour mille)</label>
                <input type="text" name="insecurite" required>
            </li>
        </ul>
        <button type="submit">PrÃ©dire</button>
    </form>

    {% if prediction %}
    <div class="result">
        <h3>ğŸ¯ RÃ©sultat de la prÃ©diction</h3>
        <p><strong class="label">{{ params_utilises.prediction_label }}</strong></p>
        <p class="valeur-brute">(Valeur brute : {{ prediction }})</p>
    </div>
    {% endif %}

    {% if params_utilises %}
    <div class="params">
        <h3>ğŸ§¾ ParamÃ¨tres utilisÃ©s</h3>
        <ul>
            <li><strong>Code circonscription :</strong> {{ params_utilises.code_circo }}</li>
            <li><strong>Encodage gagnant prÃ©cÃ©dent :</strong> {{ params_utilises.encodage_sans_centre_gagnant_precedent }}</li>
            <li><strong>InsÃ©curitÃ© :</strong> {{ params_utilises.insecurite }}</li>
            <li><strong>DensitÃ© :</strong> {{ params_utilises.densite }}</li>
            <li><strong>InstabilitÃ© :</strong> {{ params_utilises.instabilite_centre_extremes }}</li>
            <li><strong>Poids nuance :</strong> {{ params_utilises.poids_nuance_centre_extremes }}</li>
            <li><strong>DÃ©sir de changement :</strong> {{ params_utilises.desir_changement_centre_extremes }}</li>
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}